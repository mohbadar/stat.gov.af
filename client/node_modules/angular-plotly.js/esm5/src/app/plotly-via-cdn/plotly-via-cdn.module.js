/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { NgModule } from '@angular/core';
import { CommonModule } from '@angular/common';
import { PlotComponent } from '../shared/plot/plot.component';
import { PlotlyService } from '../shared/plotly.service';
import { SharedModule } from '../shared/shared.module';
// @dynamic
var PlotlyViaCDNModule = /** @class */ (function () {
    function PlotlyViaCDNModule(plotlyService) {
        this.plotlyService = plotlyService;
        PlotlyService.setModuleName('ViaCDN');
    }
    Object.defineProperty(PlotlyViaCDNModule, "plotlyVersion", {
        set: /**
         * @param {?} version
         * @return {?}
         */
        function (version) {
            /** @type {?} */
            var isOk = version === 'latest' || /^\d\.\d{1,2}\.\d{1,2}$/.test(version);
            if (!isOk) {
                throw new Error("Invalid plotly version. Please set 'latest' or version number (i.e.: 1.4.3)");
            }
            PlotlyViaCDNModule.loadViaCDN();
            PlotlyViaCDNModule._plotlyVersion = version;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(PlotlyViaCDNModule, "plotlyBundle", {
        set: /**
         * @param {?} bundle
         * @return {?}
         */
        function (bundle) {
            /** @type {?} */
            var isOk = bundle === null || PlotlyViaCDNModule.plotlyBundleNames.indexOf(bundle) >= 0;
            if (!isOk) {
                /** @type {?} */
                var names = PlotlyViaCDNModule.plotlyBundleNames.map(function (n) { return "\"" + n + "\""; }).join(', ');
                throw new Error("Invalid plotly bundle. Please set to null for full or " + names + " for a partial bundle.");
            }
            PlotlyViaCDNModule._plotlyBundle = bundle;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @return {?}
     */
    PlotlyViaCDNModule.loadViaCDN = /**
     * @return {?}
     */
    function () {
        PlotlyService.setPlotly('waiting');
        /** @type {?} */
        var init = function () {
            /** @type {?} */
            var src = PlotlyViaCDNModule._plotlyBundle == null
                ? "https://cdn.plot.ly/plotly-" + PlotlyViaCDNModule._plotlyVersion + ".min.js"
                : "https://cdn.plot.ly/plotly-" + PlotlyViaCDNModule._plotlyBundle + "-" + PlotlyViaCDNModule._plotlyVersion + ".min.js";
            /** @type {?} */
            var script = document.createElement('script');
            script.type = 'text/javascript';
            script.src = src;
            script.onerror = function () { return console.error("Error loading plotly.js library from " + src); };
            /** @type {?} */
            var head = document.getElementsByTagName('head')[0];
            head.appendChild(script);
            /** @type {?} */
            var counter = 200;
            // equivalent of 10 seconds...
            /** @type {?} */
            var fn = function () {
                /** @type {?} */
                var plotly = ((/** @type {?} */ (window))).Plotly;
                if (plotly) {
                    PlotlyService.setPlotly(plotly);
                }
                else if (counter > 0) {
                    counter--;
                    setTimeout(fn, 50);
                }
                else {
                    throw new Error("Error loading plotly.js library from " + src + ". Timeout.");
                }
            };
            fn();
        };
        setTimeout(init);
    };
    /**
     * @param {?} config
     * @return {?}
     */
    PlotlyViaCDNModule.forRoot = /**
     * @param {?} config
     * @return {?}
     */
    function (config) {
        /** @type {?} */
        var url = "https://github.com/plotly/angular-plotly.js#customizing-the-plotlyjs-bundle";
        throw new Error("[PlotlyViaCDNModule] forRoot method is deprecated. Please see: " + url);
    };
    PlotlyViaCDNModule._plotlyBundle = null;
    PlotlyViaCDNModule._plotlyVersion = 'latest';
    PlotlyViaCDNModule.plotlyBundleNames = ['basic', 'cartesian', 'geo', 'gl3d', 'gl2d', 'mapbox', 'finance'];
    PlotlyViaCDNModule.decorators = [
        { type: NgModule, args: [{
                    imports: [CommonModule, SharedModule],
                    declarations: [],
                    exports: [PlotComponent]
                },] }
    ];
    /** @nocollapse */
    PlotlyViaCDNModule.ctorParameters = function () { return [
        { type: PlotlyService }
    ]; };
    return PlotlyViaCDNModule;
}());
export { PlotlyViaCDNModule };
if (false) {
    /**
     * @type {?}
     * @private
     */
    PlotlyViaCDNModule._plotlyBundle;
    /**
     * @type {?}
     * @private
     */
    PlotlyViaCDNModule._plotlyVersion;
    /** @type {?} */
    PlotlyViaCDNModule.plotlyBundleNames;
    /** @type {?} */
    PlotlyViaCDNModule.prototype.plotlyService;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGxvdGx5LXZpYS1jZG4ubW9kdWxlLmpzIiwic291cmNlUm9vdCI6Im5nOi8vYW5ndWxhci1wbG90bHkuanMvIiwic291cmNlcyI6WyJzcmMvYXBwL3Bsb3RseS12aWEtY2RuL3Bsb3RseS12aWEtY2RuLm1vZHVsZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUN6QyxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFFL0MsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLCtCQUErQixDQUFDO0FBQzlELE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSwwQkFBMEIsQ0FBQztBQUN6RCxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0seUJBQXlCLENBQUM7O0FBS3ZEO0lBVUksNEJBQW1CLGFBQTRCO1FBQTVCLGtCQUFhLEdBQWIsYUFBYSxDQUFlO1FBQzNDLGFBQWEsQ0FBQyxhQUFhLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDMUMsQ0FBQztJQUVELHNCQUFXLG1DQUFhOzs7OztRQUF4QixVQUF5QixPQUFlOztnQkFDOUIsSUFBSSxHQUFHLE9BQU8sS0FBSyxRQUFRLElBQUksd0JBQXdCLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQztZQUMzRSxJQUFJLENBQUMsSUFBSSxFQUFFO2dCQUNQLE1BQU0sSUFBSSxLQUFLLENBQUMsNkVBQTZFLENBQUMsQ0FBQzthQUNsRztZQUVELGtCQUFrQixDQUFDLFVBQVUsRUFBRSxDQUFDO1lBQ2hDLGtCQUFrQixDQUFDLGNBQWMsR0FBRyxPQUFPLENBQUM7UUFDaEQsQ0FBQzs7O09BQUE7SUFFRCxzQkFBVyxrQ0FBWTs7Ozs7UUFBdkIsVUFBd0IsTUFBd0I7O2dCQUN0QyxJQUFJLEdBQUcsTUFBTSxLQUFLLElBQUksSUFBSSxrQkFBa0IsQ0FBQyxpQkFBaUIsQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQztZQUN6RixJ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ZSc7XG5pbXBvcnQgeyBDb21tb25Nb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuXG5pbXBvcnQgeyBQbG90Q29tcG9uZW50IH0gZnJvbSAnLi4vc2hhcmVkL3Bsb3QvcGxvdC5jb21wb25lbnQnO1xuaW1wb3J0IHsgUGxvdGx5U2VydmljZSB9IGZyb20gJy4uL3NoYXJlZC9wbG90bHkuc2VydmljZSc7XG5pbXBvcnQgeyBTaGFyZWRNb2R1bGUgfSBmcm9tICcuLi9zaGFyZWQvc2hhcmVkLm1vZHVsZSc7XG5cbmV4cG9ydCB0eXBlIFBsb3RseUJ1bmRsZU5hbWUgPSAnYmFzaWMnIHwgJ2NhcnRlc2lhbicgfCAnZ2VvJyB8ICdnbDNkJyB8ICdnbDJkJyB8ICdtYXBib3gnIHwgJ2ZpbmFuY2UnO1xuXG4vLyBAZHluYW1pY1xuQE5nTW9kdWxlKHtcbiAgICBpbXBvcnRzOiBbQ29tbW9uTW9kdWxlLCBTaGFyZWRNb2R1bGVdLFxuICAgIGRlY2xhcmF0aW9uczogW10sXG4gICAgZXhwb3J0czogW1Bsb3RDb21wb25lbnRdXG59KVxuZXhwb3J0IGNsYXNzIFBsb3RseVZpYUNETk1vZHVsZSB7XG4gICAgcHJpdmF0ZSBzdGF0aWMgX3Bsb3RseUJ1bmRsZT86IHN0cmluZyA9IG51bGw7XG4gICAgcHJpdmF0ZSBzdGF0aWMgX3Bsb3RseVZlcnNpb246IHN0cmluZyA9ICdsYXRlc3QnO1xuICAgIHN0YXRpYyBwbG90bHlCdW5kbGVOYW1lczogUGxvdGx5QnVuZGxlTmFtZVtdID0gWydiYXNpYycsICdjYXJ0ZXNpYW4nLCAnZ2VvJywgJ2dsM2QnLCAnZ2wyZCcsICdtYXBib3gnLCAnZmluYW5jZSddO1xuXG4gICAgY29uc3RydWN0b3IocHVibGljIHBsb3RseVNlcnZpY2U6IFBsb3RseVNlcnZpY2UpIHtcbiAgICAgICAgUGxvdGx5U2VydmljZS5zZXRNb2R1bGVOYW1lKCdWaWFDRE4nKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgc2V0IHBsb3RseVZlcnNpb24odmVyc2lvbjogc3RyaW5nKSB7XG4gICAgICAgIGNvbnN0IGlzT2sgPSB2ZXJzaW9uID09PSAnbGF0ZXN0JyB8fCAvXlxcZFxcLlxcZHsxLDJ9XFwuXFxkezEsMn0kLy50ZXN0KHZlcnNpb24pO1xuICAgICAgICBpZiAoIWlzT2spIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBwbG90bHkgdmVyc2lvbi4gUGxlYXNlIHNldCAnbGF0ZXN0JyBvciB2ZXJzaW9uIG51bWJlciAoaS5lLjogMS40LjMpYCk7XG4gICAgICAgIH1cblxuICAgICAgICBQbG90bHlWaWFDRE5Nb2R1bGUubG9hZFZpYUNETigpO1xuICAgICAgICBQbG90bHlWaWFDRE5Nb2R1bGUuX3Bsb3RseVZlcnNpb24gPSB2ZXJzaW9uO1xuICAgIH1cblxuICAgIHN0YXRpYyBzZXQgcGxvdGx5QnVuZGxlKGJ1bmRsZTogUGxvdGx5QnVuZGxlTmFtZSkge1xuICAgICAgICBjb25zdCBpc09rID0gYnVuZGxlID09PSBudWxsIHx8IFBsb3RseVZpYUNETk1vZHVsZS5wbG90bHlCdW5kbGVOYW1lcy5pbmRleE9mKGJ1bmRsZSkgPj0gMDtcbiAgICAgICAgaWYgKCFpc09rKSB7XG4gICAgICAgICAgICBjb25zdCBuYW1lcyA9IFBsb3RseVZpYUNETk1vZHVsZS5wbG90bHlCdW5kbGVOYW1lcy5tYXAobiA9PiBgXCIke259XCJgKS5qb2luKCcsICcpO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHBsb3RseSBidW5kbGUuIFBsZWFzZSBzZXQgdG8gbnVsbCBmb3IgZnVsbCBvciAke25hbWVzfSBmb3IgYSBwYXJ0aWFsIGJ1bmRsZS5gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIFBsb3RseVZpYUNETk1vZHVsZS5fcGxvdGx5QnVuZGxlID0gYnVuZGxlO1xuICAgIH1cblxuICAgIHN0YXRpYyBsb2FkVmlhQ0ROKCkge1xuICAgICAgICBQbG90bHlTZXJ2aWNlLnNldFBsb3RseSgnd2FpdGluZycpO1xuXG4gICAgICAgIGNvbnN0IGluaXQgPSAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzcmMgPSBQbG90bHlWaWFDRE5Nb2R1bGUuX3Bsb3RseUJ1bmRsZSA9PSBudWxsXG4gICAgICAgICAgICAgICAgPyBgaHR0cHM6Ly9jZG4ucGxvdC5seS9wbG90bHktJHtQbG90bHlWaWFDRE5Nb2R1bGUuX3Bsb3RseVZlcnNpb259Lm1pbi5qc2BcbiAgICAgICAgICAgICAgICA6IGBodHRwczovL2Nkbi5wbG90Lmx5L3Bsb3RseS0ke1Bsb3RseVZpYUNETk1vZHVsZS5fcGxvdGx5QnVuZGxlfS0ke1Bsb3RseVZpYUNETk1vZHVsZS5fcGxvdGx5VmVyc2lvbn0ubWluLmpzYDtcblxuICAgICAgICAgICAgY29uc3Qgc2NyaXB0OiBIVE1MU2NyaXB0RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuICAgICAgICAgICAgc2NyaXB0LnR5cGUgPSAndGV4dC9qYXZhc2NyaXB0JztcbiAgICAgICAgICAgIHNjcmlwdC5zcmMgPSBzcmM7XG4gICAgICAgICAgICBzY3JpcHQub25lcnJvciA9ICgpID0+IGNvbnNvbGUuZXJyb3IoYEVycm9yIGxvYWRpbmcgcGxvdGx5LmpzIGxpYnJhcnkgZnJvbSAke3NyY31gKTtcblxuICAgICAgICAgICAgY29uc3QgaGVhZDogSFRNTEhlYWRFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2hlYWQnKVswXTtcbiAgICAgICAgICAgIGhlYWQuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcblxuICAgICAgICAgICAgbGV0IGNvdW50ZXIgPSAyMDA7IC8vIGVxdWl2YWxlbnQgb2YgMTAgc2Vjb25kcy4uLlxuXG4gICAgICAgICAgICBjb25zdCBmbiA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBwbG90bHkgPSAod2luZG93IGFzIGFueSkuUGxvdGx5O1xuICAgICAgICAgICAgICAgIGlmIChwbG90bHkpIHtcbiAgICAgICAgICAgICAgICAgICAgUGxvdGx5U2VydmljZS5zZXRQbG90bHkocGxvdGx5KTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNvdW50ZXIgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvdW50ZXIgLS07XG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZm4sIDUwKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEVycm9yIGxvYWRpbmcgcGxvdGx5LmpzIGxpYnJhcnkgZnJvbSAke3NyY30uIFRpbWVvdXQuYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgZm4oKTtcbiAgICAgICAgfTtcblxuICAgICAgICBzZXRUaW1lb3V0KGluaXQpO1xuICAgIH1cblxuICAgIHN0YXRpYyBmb3JSb290KGNvbmZpZzogUGFydGlhbDx7dmVyc2lvbjogc3RyaW5nfT4pOiBuZXZlciB7XG4gICAgICAgIGNvbnN0IHVybCA9IFwiaHR0cHM6Ly9naXRodWIuY29tL3Bsb3RseS9hbmd1bGFyLXBsb3RseS5qcyNjdXN0b21pemluZy10aGUtcGxvdGx5anMtYnVuZGxlXCI7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgW1Bsb3RseVZpYUNETk1vZHVsZV0gZm9yUm9vdCBtZXRob2QgaXMgZGVwcmVjYXRlZC4gUGxlYXNlIHNlZTogJHt1cmx9YCk7XG4gICAgfVxufVxuIl19